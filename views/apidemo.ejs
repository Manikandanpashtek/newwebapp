
<!DOCTYPE html>
<html>
<head>
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js"
      integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ=="
      crossorigin="anonymous"
    ></script>
    <title>OutPut Page </title>
    <!-- <script src="/src/SfmcApiHelper.ts"></script> -->
    <button type="button" id="btnGetOauthToken" class="btn btn-primary"
    onclick="getOAuthAccessToken()">ACCESS TOKEN</button>
    <body>
      <h3>Enter Dataextension Name</h3>
      <input type="text" id="txt" onclick="creatingDomainConfigurationDE()" />
      <input type="submit" id="btSubmit" disabled />
  </body>
    <br><br>
    
</head>
<body>
  <script>
    function getOAuthAccessToken() {
    axios({
      method: "GET",
      url: "/appdemoauthtoken",        
    }
    )
      .then(function (response) {
        alert("acces token generated");
        
        var bt = document.getElementById('btSubmit');

            bt.disabled = false;
        
         console.log("accesstokengeneration:" +JSON.stringify(response.data.accessToken) );
        
        // thisdata.setState({ refreshtoken: response.data.refreshToken });
        //AppUserInfo(thisdata, response.data.refreshToken);
      })
         .catch(function (error) {
        console.log(error);
      });
  }

  function creatingDomainConfigurationDE()
 
 {
   var dataextensionname = document.getElementById("txt").value;
   
  //  console.log("methodcalled");
       axios({
         method: "POST",
         url: "/creatingDomainConfigurationDE",
         data: {
          dataextensionname : dataextensionname,
           soap_instance_url: "https://mcj6cy1x9m-t5h5tz0bfsyqj38ky.soap.marketingcloudapis.com/",
           
         },
       })
         .then(function (response) {
           console.log(
             "creatingDomainConfigurationDE:" + JSON.stringify(response)
           );
           // if (response.data) {
           
           //   thisdata.setState({
           //     DEexternalKeyDomainConfiguration:
           //       response.data.DEexternalKeyDomainConfiguration,
           //   });
            
           // } else {
           //   console.log("Error creating data extension folder");
           // }
         })
         .catch(function (error) {
           console.log(error);
         });
     }
      
  </script>

</body>
</html>
   
