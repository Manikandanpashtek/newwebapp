
<!DOCTYPE html>
<html>
<head>
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js"
      integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ=="
      crossorigin="anonymous"
    ></script>
    <title>OutPut Page </title>
    <!-- <script src="/src/SfmcApiHelper.ts"></script> -->
    <button type="button" id="btnGetOauthToken" class="btn btn-primary"
    onclick="getOAuthAccessToken()">ACCESS TOKEN</button>
    <button type="button" id="createDE" onclick="creatingDomainConfigurationDE()"> CREATE DE</button>
</head>
<body>
  <script>
    function getOAuthAccessToken(thisdata) {
    axios({
      method: "GET",
      url: "/appdemoauthtoken",
            
    }
    )
      .then(function (response) {
        console.log(
          "accesstokengeneration:" +
            JSON.stringify(response.data.refreshToken)
        );
        thisdata.setState({ refreshtoken: response.data.refreshToken });
        creatingDomainConfigurationDE(thisdata.response.data.refreshToken)
        // thisdata.setState({ refreshtoken: response.data.refreshToken });
        //AppUserInfo(thisdata, response.data.refreshToken);
      })
         .catch(function (error) {
        console.log(error);
      });
  }
  function creatingDomainConfigurationDE(
        thisdata,
        soap_instance_url,  
      ) {
        axios({
          method: "POST",
          url: "/creatingDomainConfigurationDE",
          data: {
            
            soap_instance_url: soap_instance_url,
            
          },
        })
          .then(function (response) {
            console.log(
              "creatingDomainConfigurationDE:" + JSON.stringify(response)
            );
            if (response.data) {
            
              thisdata.setState({
                DEexternalKeyDomainConfiguration:
                  response.data.DEexternalKeyDomainConfiguration,
              });
             
            } else {
              console.log("Error creating data extension folder");
            }
          })
          .catch(function (error) {
            console.log(error);
          });
      }
  </script>

</body>
</html>
   
    <!-- //('/apidemooauthtoken','textOauthPostResponse')
   

  //Used to fetch the user information
  // function AppUserInfo(thisdata, refreshToken) {
  //   axios({
  //     method: "POST",
  //     url: "/appuserinfo",
  //     data: { refreshToken: refreshToken, tssd: thisdata.state.tssd },
  //   })
  //     .then(function (response) {
  //       console.log("appuserinfo:" + JSON.stringify(response));

  //       //thisdata.setState({ namex: response.data });
  //       thisdata.setState({ refreshtoken: response.data.refreshToken });
  //       thisdata.setState({ member_id: response.data.member_id });
  //       thisdata.setState({
  //         restInstance: response.data.rest_instance_url,
  //       });
  //       thisdata.setState({
  //         soapInstance: response.data.soap_instance_url,
  //       });

  //       dataFolderCheck(
  //         thisdata,
  //         response.data.refreshToken,
  //         response.data.member_id,
  //         response.data.rest_instance_url,
  //         response.data.soap_instance_url
  //       );
  //     })
  //     .catch(function (error) {
  //       console.log(error);
  //     });
  
//}     -->

